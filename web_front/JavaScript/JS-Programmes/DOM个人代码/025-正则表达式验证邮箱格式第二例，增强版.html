<!DOCTYPE html>
<meta charset="ANSI">
<html>
<head>
	<title>实现功能，光标一离开就验证，再点上的话，错误,或正确的提示信息就消失</title>
</head>
<body>

	<script type="text/javascript">
		
		
		window.onload=function excute(){
			
			//错误位置
			//var regExp=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g;   
			
			var emailObj=document.getElementById("emailAddr");
			var emailErrorSpan=document.getElementById("emailError");
			emailObj.onblur=function blurMethod(){   //这里使用onblur句柄，光标一离开就开始验证
			    
				var regExp=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g;  //正则表达式必须放到句柄方法里面，否则无效，判断一直时错误
				var isOk=regExp.test(emailObj.value);                         //这句也要放到里面
				if(isOk){
					//sp.innerTEXT="邮箱格式正确"  //注意,在事件句柄后边修改span标签中间的内容，用innerTEXT在网页内不显示，用innerHTML管用，原因待查
					emailErrorSpan.innerHTML="邮箱格式正确";    
			    }else{
					emailErrorSpan.innerHTML="邮箱格式错误";
				}
			}
		/*	正确范例
		  var emailObj=document.getElementById("emailAddr");
		  var emailErrorSpan=document.getElementById("emailError");
		  emailObj.onblur=function checkEmail(){
			 var emailRegExp=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g;
			 var isEmail=emailRegExp.test(emailObj.value);
			 if(isEmail){
				 emailErrorSpan.innerHTML="";
			 }else{
				 emailErrorSpan.innerHTML="invalid email";
			 }
		  }
			*/
		}
	</script>

	<input type="text" id="emailAddr"></input> 
	<span id="emailError" style="color:red;font-size:16px;"></span>
</body>

</html>