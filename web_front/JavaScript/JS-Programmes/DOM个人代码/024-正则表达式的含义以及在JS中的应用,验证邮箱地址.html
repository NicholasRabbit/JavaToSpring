<!DOCTYPE html>
<meta charset="ANSI">
<html>
<head>
	<title>正则表达式，验证邮箱范例</title>

</head>
<body>
	<!-- 
	(1)正则表达式是为了验证某一字符串是否符合规范，格式是否正确,如下面的邮箱地址格式验证
	(2)邮箱的正则表达式分析:
	^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
	各个符号的含义：    （注意“\”表示转义符，如deerchao\.net匹配deerchao.net，C:\\Windows匹配C:\Windows。）
	^：表示整个匹配表达式的开始标志，
    $: 表示匹配结束
	\w:匹配字母，下划线，数字或汉字
	+:表示出现一次到多次，指w后面的加号，没有用中括号[]括起来，表示\w这个字母出现的次数是
	():普通括号，指里面的匹配优先级较高
	[-+.]:中括号括起来的-,+或.，就是指它们本身，出现一次，例，邮箱地址有可能为：tom-brady@gamil.com
	*:表示括号内的出现0次或多次,即-brady有可能有可能没有，有的邮箱用户名就没加-,+或.

	-->
	<script type="text/javascript">
		/*创建正则表达式对象
		第一种格式：var regExp=/正则表达式/flags;  
		flags的选项:
		a:全局匹配
		g:不分大小写
		m:多行搜索,ES规范之后才引入的
		第二种格式:var regExp=new regExp("正则表达式","flags");
		regExp是JS内置的一个类
		*/
		
		//使用第一种方式来验证邮箱,首先创建正则表达式对象
		//使得光标一离开就开始验证
	    var regExp=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/g;    //全局变量
		window.onload=function(){
			var email=document.getElementById("emailAddr");
			  email.onblur=function getValue(){       //onblur表示光标离开事件句柄，光标一离开      
			  var isCorrect=regExp.test(email.value);  //value是用户输入的邮箱地址
			   if(isCorrect){
					alert("格式正确");   //这里如果邮箱地址输入正确，第一次显示“格式正确”，第二次显示“格式错误”
			   }else{                    //原因是，第二次什么也没输入，只是光标点下，又离开
					alert("格式错误");    
			   }
			}
		}	
	</script>

	<input type="text" id="emailAddr"></input>
	<div id="tip"></div>  <!--这个图层块用来显示邮箱格式对否的提示信息-->
	
</body>

</html>