<!DOCTYPE html>
<meta charset="ANSI">
<html>
<head>
	<title>复选框的全选和取消-高级版</title>

</head>
<body>
	<!--实现效果：
	点全选则全部选中，取消任意选项则全选按钮取消选中，
	所有选项勾选时全选按钮自动勾选
	本例实现全部功能
	-->

	<script type="text/javascript">
	
		window.onload=function method(){
			var allObj=document.getElementById("all");
			var hobbyArr=document.getElementsByName("hobby");
			
			//一，此处实现点击全选选项，其他选项随着选中或未选中
			allObj.onclick=function selectAll(){
				for(var i in hobbyArr){
					hobbyArr[i].checked=allObj.checked;
				}
			}

			//二，此处实现功能：如果有一个单选选项取消，则全选按钮也取消
			var arrLength=hobbyArr.length;
			for(var i=0; i<hobbyArr.length; i++){
				hobbyArr[i].onclick=function (){
			       
				    //如果一个单选项选中则count自加1,当count==hobbyArr.length时，全选选项选中
					var count=0;  //count=0必须写在onclick之后，因为要每次单机选项把count归零重新计算
					for(var j=0; j<hobbyArr.length; j++){
						if(hobbyArr[j].checked){
							count++;
						}
					}
					if(count==arrLength){
						allObj.checked=true;
					}else{
						allObj.checked=false;
					}
				}
			}
		}
	</script>

	<input type="checkbox" name="allSelected" value="a" id="all">全选</input>			 <br>
	<input type="checkbox" name="hobby" value="football" id="ft">足球</input>    <br>
	<input type="checkbox" name="hobby" value="basketball" id="bb">篮球</input>  <br>
	<input type="checkbox" name="hobby" value="boxing" id="box">拳击</input>     <br>

</body>

</html>